# Exploring GenAIScript with the Blackjack Sample

## Tools

There are 4 general tools in this directory that are intended to reflect 4 personas associated with software development.  These prompts appear in the "appdev" folder of the prompts menu.

- **PM-planning.genai.js** - This prompt takes a project description in a .gpspec.md file (a paragraph describing the application), and expands the contents of that file to include specific instructions for the software architect, the software developer, and the quality assurance engineer on how to implement the project.
- **SA-planning.genai.js** - This prompt takes the contents of the planning file generated by the PM-planning prompt (blackjack.gpspec.md) and generates a new GenAIScript file (blackjack.saplan.gpspec.md) with detailed instructions for the software developer.  It expands the general guidance to include specific aspects of the appliction, including what files it should contain and how they interact.
- **SDE-Coding.genai.js** - This prompt takes a the project gpspec file, including descriptions of the files and the interfaces between them, and generates Python code to implement the application.
- **QA-coding.genai.js** - This prompt takes the contents of the the project gpspec file, and generates a set of test files that test the components of the application as specified by the architect.

## GenAIScript Workflow

We start the workflow by creating a gpspec file, ```game.gpspec.md``` with a simple heading and short description. Here is the starting point for creating the blackjack application.

```
# Description Create a command line blackjack application 

## Idea

Create a command line application that allows users to play blackjack with it. It should allow the user to place a bet, be dealt multiple hands, and finally quit. Implement the blackjack dealer by always standing on 17 and above and drawing on anything less. The program should handle how much money the player has and print out the actions of the dealer and how much money the player has after each round.
```

Generation steps:
1. Place the description above in ```game.gpspec.md```
2. Run the PM-planning gptool over the gpspec to expand the description.
3. Run the SA-planning gptool over the same file to generate the file ```game.saplan.gpspec.md```
4. Run the SDE-planning gptool over the ```game.gpspec.md``` file to generate a set of Python files that implement the application.
5. Test the application, edit the files as needed, and rerun the prompts as needed.
6. To create unit tests for the python files generated for the application, 
run the QA-coding gptool over the ```game.gpspec.md``` file.  This should
generate parallel test files to the previous .py files as well as a file that can run all the tests from the command line.

## Running the application

The gptools place files in the directory ```game/blackjack```.  We have saved an example of the output in ```game/blackjack.saved```.  To run the application, you need to add the directory to your PYTHONPATH.  On a Mac, you can do this with:
```???```

The Python files in the application directory were generated using the process above and edited either by hand or by rewriting the architecture document and rerunning the SDE prompts. The file 
```cli.py``` in the sample directory was generated using the process above and it implements a command line version of blackjack.  You run it with:
```python cli.py```

The test files ```test_*.py``` were generated using the QA prompt and you can run the tests with: ```python run_tests.py```