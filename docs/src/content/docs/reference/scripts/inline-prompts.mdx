---
title: Inline prompts
sidebar:
    order: 10
---

import { Code } from "@astrojs/starlight/components"
import summaryOfSummary from "../../../../../../packages/sample/genaisrc/summary-of-summary.genai.js?raw"

The `runPrompt` function allows to build an inner LLM invocation. It returns the output of the prompt.

```js
const { text } = await runPrompt(_ => {
    // use def, $ and other helpers
    _.def("FILE", file)
    _.$`Summarize the FILE. Be concise.`
})
```

:::caution

Make sure to `await` all calls to `runPrompt` or you will find yourself in some weird race conditions.
(To be improved)

:::

## Limitations

-   Nested [functions](/genaiscript/reference/scripts/functions) are not supported in the inner prompt.

## Example: Summary of file summaries

The snippet below uses `gpt-3.5` to summarize files individually before
adding them to the main prompt.

<Code code={summaryOfSummary} wrap={true} lang="js" />
